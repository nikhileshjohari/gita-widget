<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generate gita-hi.json</title>
</head>
<body>

<h3>Open DevTools → Console</h3>

<script>
(async function () {
  try {
    const response = await fetch(
      "https://nikhileshjohari.github.io/gita-widget/dataset_hindi.json"
    );
    const data = await response.json();

    const output = [];

    for (const [chapterKey, chapterObj] of Object.entries(data.chapters)) {

      // Some datasets store verses inside chapterObj.verses
      // Some store verse numbers separately
      if (!chapterObj.verses) continue;

      for (const [verseKey, verseObj] of Object.entries(chapterObj.verses)) {

        if (!verseObj.text) continue;

        output.push({
          chapter: Number(chapterKey),
          verse: Number(verseKey),
          shloka: verseObj.text.trim(),
          meaning: (verseObj.verse_meaning_hindi || "").trim()
        });
      }
    }

    console.log(JSON.stringify(output, null, 2));
    console.log("✅ TOTAL VERSES:", output.length);

  } catch (err) {
    console.error("❌ ERROR:", err);
  }
})();
</script>

</body>
</html>
