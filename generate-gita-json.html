<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generate gita-hi.json</title>
</head>
<body>
<h3>Open DevTools → Console</h3>

<script>
(async function() {
  try {
    const response = await fetch("./dataset_hindi.json");
    const data = await response.json();

    const output = [];

    for (const chapterKey in data.verses) {
      const chapterObj = data.verses[chapterKey];

      for (const verseKey in chapterObj) {
        const verseObj = chapterObj[verseKey];

        const shloka = (verseObj.text || verseObj.shloka || "").trim();
        const meaning = (verseObj.meaning || verseObj.verse_meaning_hindi || "").trim();

        if (shloka) {
          output.push({
            chapter: Number(chapterKey),
            verse: Number(verseKey),
            shloka: shloka,
            meaning: meaning
          });
        }
      }
    }

    console.log("✅ TOTAL VERSES:", output.length);
    console.log(JSON.stringify(output, null, 2));
    document.body.innerHTML += "<h3>Check Console for JSON output</h3>";

  } catch (err) {
    console.error("❌ ERROR:", err);
  }
})();
</script>

</body>
</html>
